<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <title>Optipardy – Sehen & Verstehen – Spiel</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="./css/game.css" />
</head>
<body>
  <div id="teamPopup"></div>
  <div class="lobby-container" id="settings">
    <div class="lobby-header">
      <span class="header-spacer"></span>
      <h1>Optipardy – Sehen & Verstehen</h1>
      <a href="/" class="btn" id="backToMenu">Zurück zum Hauptmenü</a>
    </div>
    <div class="lobby-grid">
      <div class="lobby-col left">
        <button id="startGame" class="btn" style="margin-bottom:1.5em;">Spiel starten</button>
        <h2>Spieleinstellungen</h2>
        <div class="settings-group">
          <label><input type="checkbox" id="allowNegative" checked /> Minuspunkte erlauben</label>
          <label>Timer (Sekunden): <input type="number" id="timerSetting" value="30" min="5" max="600" /></label>
          <label><input type="checkbox" id="allowSkip" checked /> Überspringen erlauben</label>
          <label><input type="checkbox" id="allowOthers" checked /> Andere Teams dürfen antworten</label>
        </div>
      </div>
      <div class="lobby-col center">
        <h2>Kategorien auswählen</h2>
        <div class="drag-container">
          <div class="drag-box" id="allCategories">
            <div class="drag-title">Alle Kategorien</div>
          </div>
          <div class="drag-box" id="selectedCategories">
            <div class="drag-title">Für das Spiel ausgewählt</div>
          </div>
        </div>
      </div>
      <div class="lobby-col right">
        <label style="margin-bottom:1.5em; font-weight:bold;">
          Anzahl Teams:
          <input type="number" id="teamCount" value="3" min="1" max="6" style="width: 60px;" />
        </label>
        <h2>Teams</h2>
        <div class="team-list" id="teamSettings"></div>
      </div>
    </div>
  </div>
  <div id="gameArea" style="display: none;">
  <div class="gamearea-container">
    <div class="gamearea-header">
      <button id="backToStart" class="btn btn-back-settings">⚙️</button>
      <div class="teams" id="teams"></div> 
    </div>
    <div id="board" class="board"></div>
  </div>
</div>
  <div id="questionModal" class="question-modal">
    <div class="modal-content">
      <div class="timer" id="timer"></div>
      <div id="questionText"></div>
      <input type="text" id="answerInput" placeholder="Antwort eingeben" autocomplete="off"/>
      <div style="margin-top: 1em;">
        <button id="submitAnswer" class="btn">Antwort prüfen</button>
        <button id="skipAnswer" class="btn">Überspringen</button>
      </div>
      <div id="feedbackMsg"></div>
      <div id="correctAnswer"></div>
      <button id="markCorrectBtn" class="btn" style="margin-top: 0.5em;">Doch richtig!</button>
      <button id="continueBtn" class="btn" style="margin-top: 0.5em;">Weiter</button>
    </div>
  </div>
	<script>
  const timerInput = document.getElementById('timerSetting');
  timerInput.addEventListener('input', function () {
    let value = parseInt(this.value, 10);
    const min = parseInt(this.min, 10);
    const max = parseInt(this.max, 10);

    if (isNaN(value)) return; // Falls das Feld leer ist

    if (value < min) this.value = min;
    if (value > max) this.value = max;
  });
</script>
  <script src="js/game.js"></script>
  <script src="js/confetti.browser.min.js"></script>
</body>
</html>
